{% extends './components/layout.html' %}

{% block css %}
<link rel="stylesheet" href="../static/css/main.css">
<link rel="stylesheet" href="../static/css/rm.css">
{% endblock %}
<!--  Maybe add a little explanation here to clarify what/why on this page???-->
{% block content %}

{% for c in new.chars %}
<div class="container-fluid">
  <div class="row m-auto">
    <h1>Some fun with the Rick and Morty API!</h1>
    <br>
    <h3>A random character:</h3>
    <br>
    <div id="rand-card" class="card m-auto" style="max-width: 540px;">
      <div class="row g-0">
        <div class="col-md-4">
          <img src="{{new.chars[c].image}}" class="img-fluid rounded-start" alt="random Rick and Morty character image">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title">{{new.chars[c].name}}</h5>
            <p class="card-text">Status: {{new.chars[c].status}}<br>Species: {{new.chars[c].species}}<br>Gender:
              {{new.chars[c].gender}}</p>
            <p class="card-text"><small class="text-muted">Origin: {{new.chars[c].origin}}</small></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<hr>
{% endfor %}
{% endblock %}

{% block content2 %}
<div class="container-fluid">
  <h3>Episode Builder:</h3>
  <p>Select an episode to see summary information and all of the characters. Fan?  Re-live it broh.</p>
  <div class="row">
    <form method="POST">
      <div id="epform" class="form-group">
        <fieldset id="ep-choice">
          {{ epform.ep_choice.label }}
          {{ epform.ep_choice }}
        </fieldset>
        <br>
        {{ epform.submit }}
      </div>
    </form>
  </div>
  <br>
  {% if epi.name %}
  <div class="row justify-content-center">
    <h1><strong>{{epi.name}}</strong></h1>
    <h5>{{epi.episode}}</h5>
    <h5>{{epi.air_date}}</h5>
  </div>
  {% endif %}
  <div class="row justify-content-center">
    {% if epi.chars.chars %}
    {% for c in epi.chars.chars.values() %}
    <div class="card" style="width: 18rem;">
        <img src="{{ c.image }}" class="card-img-top" alt="...">
        <div id="cb-char" class="card-body">
        <h4 class="card-title">{{c.name}}</h4>
        </div>
        <ul class="list-group list-group-flush">
        <li class="list-group-item">Status: {{c.status}}</li>
        <li class="list-group-item">Species: {{c.species}}</li>
        <li class="list-group-item">Gender: {{c.gender}}</li>
        <li class="list-group-item">Origin: {{c.origin}}</li>
        </ul>
    </div>
    {% endfor %}
    {% endif %}
    </div>
<hr>
</div>
{% endblock %}

{% block content3 %}
<div class="container-fluid">
  <h3>Location Builder:</h3>
  <p>Select a location to see summary information and all of its residents. </p>
  <div class="row">
    <form method="POST">
      <div id="epform" class="form-group">
        <fieldset id="ep-choice">
          {{ locform.loc_choice.label }}
          {{ locform.loc_choice }}
        </fieldset>
        <br>
        {{ locform.submit }}
      </div>
    </form>
  </div>
  {% if loc.name %}
  <div class="row justify-content-center">
    <h2><strong>{{loc.name}}</strong></h2>
    <h5>{{loc.type}}</h5>
    <h5>{{loc.dimension}}</h5>
    <h6>Residents:</h6>
  </div>
  {% endif %}
  <div class="row justify-content-center">
    {% if loc.residents.chars %}
    {% for c in loc.residents.chars.values() %}
    <div class="card" style="width: 18rem;">
        <img src="{{ c.image }}" class="card-img-top" alt="...">
        <div class="card-body">
        <h4 class="card-title">{{c.name}}</h4>
        </div>
        <ul class="list-group list-group-flush">
        <li class="list-group-item">Status: {{c.status}}</li>
        <li class="list-group-item">Species: {{c.species}}</li>
        <li class="list-group-item">Gender: {{c.gender}}</li>
        <li class="list-group-item">Origin: {{c.origin}}</li>
        </ul>
    </div>
    {% endfor %}
    {% endif %}
    </div>
<hr>
{% endblock %}